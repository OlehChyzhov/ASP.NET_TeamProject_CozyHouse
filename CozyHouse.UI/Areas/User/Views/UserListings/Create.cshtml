@model UserListing
@inject IUserPetsRepository _petRepository
@{
    ViewBag.Title = "Create";
    Guid userId = Guid.Parse(User.FindFirst(ClaimTypes.NameIdentifier)?.Value!);
}
<link rel="stylesheet" href="~/css/content/EditForm.css" asp-append-version="true" />
<form method="post" asp-area="User" asp-controller="UserListings" asp-action="Create">
    <input asp-for="OwnerId" value="@userId" hidden />
    <h1>Listing Creation</h1>

    <h2>Listing information</h2>

    <div>
        <input type="text" placeholder="Listing Title" asp-for="Title" />
    </div>

    <div>
        <textarea placeholder="Your pet description" asp-for="Content"></textarea>
    </div>

    <div>
        <label>Select Pet To Publish</label>
        <select asp-for="PetId">
            @foreach (UserPet pet in _petRepository.GetAll())
            {
                <option value="@pet.Id">Name: @pet.Name; Age: @pet.Age; Type: @pet.Type.ToString()</option>
            }
        </select>
    </div>
    <div>
        <button type="submit">Create!!!</button>
    </div>
</form>